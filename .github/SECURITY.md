# 安全政策

## 支持的版本

我们目前支持以下版本的安全更新：

| 版本     | 支持状态            |
| -------- | ------------------- |
| 最新版本 | ✅                  |
| 开发版本 | ⚠️ 仅限严重安全问题 |

## 报告漏洞

我们非常重视安全问题。如果你发现了安全漏洞，请按照以下步骤报告：

### 🔒 私密报告

**请不要在公开的 Issue 中报告安全漏洞。**

1. **发送邮件**: 将漏洞详情发送至项目维护者邮箱
2. **使用 GitHub Security Advisory**: 在项目页面使用 "Security" 标签页的 "Report a vulnerability" 功能
3. **提供详细信息**: 包括漏洞描述、影响范围、复现步骤等

### 📋 报告内容

请在报告中包含以下信息：

- **漏洞类型**: XSS、CSRF、注入攻击等
- **影响组件**: 前端、后端、特定功能模块
- **严重程度**: 高、中、低
- **复现步骤**: 详细的步骤说明
- **影响评估**: 可能造成的损害
- **建议修复**: 如果有修复建议请提供

### 🕐 响应时间

- **确认收到**: 24 小时内
- **初步评估**: 72 小时内
- **详细分析**: 1 周内
- **修复发布**: 根据严重程度，1-4 周内

## 安全最佳实践

### 🔐 API 密钥安全

- **不要提交 API 密钥**: 确保 `.env` 文件不被提交到版本控制
- **使用环境变量**: 所有敏感信息都应通过环境变量配置
- **定期轮换**: 定期更换 API 密钥
- **最小权限**: 只授予必要的 API 权限

### 🌐 前端安全

- **输入验证**: 对所有用户输入进行验证和清理
- **XSS 防护**: 避免直接渲染用户输入的 HTML
- **HTTPS**: 生产环境必须使用 HTTPS
- **CSP**: 实施内容安全策略

### 🔧 后端安全

- **参数验证**: 验证所有 API 参数
- **错误处理**: 不要在错误信息中泄露敏感信息
- **日志安全**: 不要在日志中记录敏感数据
- **依赖更新**: 定期更新依赖包

### 🐳 Docker 安全

- **非 root 用户**: 容器内使用非 root 用户运行
- **最小镜像**: 使用 Alpine 等最小化镜像
- **扫描漏洞**: 定期扫描镜像漏洞
- **网络隔离**: 合理配置网络策略

## 已知安全考虑

### AI 服务集成

- **API 密钥保护**: AI 服务的 API 密钥需要妥善保护
- **请求限制**: 实施请求频率限制防止滥用
- **内容过滤**: 对 AI 生成的内容进行适当过滤
- **数据隐私**: 不要将敏感信息发送给第三方 AI 服务

### 用户数据

- **最小化收集**: 只收集必要的用户数据
- **本地存储**: 优先使用本地存储而非服务器存储
- **数据清理**: 定期清理不必要的数据
- **匿名化**: 对分析数据进行匿名化处理

## 安全更新

### 通知方式

安全更新将通过以下方式通知：

- **GitHub Release**: 在发布说明中标注安全修复
- **Security Advisory**: 发布安全公告
- **README 更新**: 在 README 中提醒用户更新

### 更新建议

- **及时更新**: 收到安全更新通知后请及时更新
- **测试验证**: 更新后验证功能正常
- **备份数据**: 更新前备份重要数据

## 第三方依赖

### 依赖管理

- **定期审计**: 使用 `npm audit` 检查依赖漏洞
- **及时更新**: 及时更新有安全漏洞的依赖
- **最小依赖**: 避免引入不必要的依赖

### 当前主要依赖

- **Next.js**: 前端框架
- **Express.js**: 后端框架
- **Redis**: 缓存服务
- **各种 AI SDK**: OpenAI、Anthropic 等

## 联系方式

如果你有安全相关的问题或建议：

- **安全邮箱**: [项目维护者邮箱]
- **GitHub Security**: 使用 GitHub 的安全报告功能
- **加密通信**: 如需要，可以提供 PGP 公钥

---

感谢你帮助我们保持项目的安全性！🔒
